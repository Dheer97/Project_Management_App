<!-- projects/task_list.html -->
{% extends 'project_flow_base.html' %} {% block content %}
<h1>Tasks in {{ project.title }}</h1>

<div class="task-list">
	{% if tasks %}
	<ul class="list-group">
		{% for task in tasks %}
		<li
			class="list-group-item d-flex justify-content-between align-items-center"
		>
			<div>
				<strong>{{ task.title }}</strong>
				<small class="text-muted">
					Due: {{ task.due_date }} | Status: {{ task.status }} | Priority:
					{{task.priority}}
				</small>
			</div>
			<div>
				<a href="{% url 'task_detail' pk=task.pk %}" class="btn btn-sm btn-info"
					>View</a
				>
				<a
					href="{% url 'task_delete' pk=task.pk %}"
					class="btn btn-sm btn-danger"
					onclick="return confirm('Are you sure?')"
					>Delete</a
				>
			</div>
		</li>
		{% endfor %}
	</ul>
	{% else %}
	<p>No tasks assigned to this project.</p>
	{% endif %}
</div>

<a href="{% url 'task_create' project_id=project.id %}" class="btn btn-primary"
	>Add New Task</a
>
<a href="{% url 'project_detail' pk=project.pk %}" class="btn btn-secondary"
	>Back to Project</a
>
<a href="{% url 'user_tasks' %}" class="btn btn-outline-primary">My Tasks</a>
{% endblock %}
